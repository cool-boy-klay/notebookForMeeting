# GC Root

1. JVM线程私有部分中栈中的栈帧引用的局部变量
2. 本地方法栈中的栈帧引用的对象
3. 方法区中类的静态属性引用的对象
4. 方法区中常量引用的对象

# 负载均衡策略

**权重算法:**

负载均衡因子 = 4+3+2 = 9
4 3 2 
8 6 4 (A)
-1 6 4
3 9 6 (B)
3 0 6 
7 3 8 (C)
7 3 -1 
11 6 1 (A)
2 6 1 
6 9 3 (B)
6 0 3 
10 3 5 (A)

...

# 输入一个网页地址发生了什么？

1. DNS解析：第一步需要把域名解析成IP地址，首先浏览器会先根据自己的缓存中去查找，如果没有找到对应的缓存，则到操作系统中去找（本地的host设定），如果仍然没有找到，就会到路由器中去查找



# 一面

## 第一个
作者：AaroninMind
链接：https://www.nowcoder.com/discuss/477188?type=post&order=time&pos=&page=1&channel=0&source_id=search_post
来源：牛客网

1.二叉树的高度（有两道题，第二题忘了，都很简单）
2.常见的数据库，MySQL的事务，隔离级别，索引相关
什么时候需要建立索引？什么时候不需要建立索引？
3.索引执行的时候做了些啥？
4.Redis用的多吗？常用数据类型？用来干啥？场景？
5.缓存雪崩、缓存穿透？怎么解决？
6.进程和线程的区别？
7.什么是僵尸进程？什么是守护进程？有创建过守护进程吗？
8.TCP的三次握手？二次握手为什么不行？怎么保证可靠传输的？
9.手机号MD5加密之后，如何快速查找？1000万的数据2G的内存怎么实现高效？
10.你的高并发秒杀项目说一下吧？怎么保证不会超卖？
11.算法题
合并有序链表
12.反问，聊了一下面试官的业务，部门？聊了一下我现在的状态？

## 第二个
进程间的通信方式：管道（匿名和命名）、消息队列、共享内存&信号量、信号；ipcs 查看 ipc 对象；

内核空间和用户空间；为啥要这么区分；

分段机制、分页机制；

TCP四次挥手；

TCP 流量控制和拥塞控制；

输入 https://www.shopee.com 以后的过程：DNS查询、TCP 三次握手、验证证书、生成对称加密的秘钥，如果是 http/2.0，服务器还会主动推送相关资源。

websocket 有了解吗：没有；

IO 多路复用的几种系统调用（select、poll、epoll），主要区别；

介绍一下红黑树；

介绍一下 B+树、B树；

Java 多线程实现方式（就是怎么用多线程执行任务，比如实现 Runnable接口，实现 Callable 接口，继承 Thread 类）；

MySQL的持久化手段，比如执行update 语句时，如何保证数据持久化：答了redo log，binlog，undo log等等；

ACID 是啥；

Redis 的 sorted set 底层的数据结构（跳表），原理；

Kafka 原理，怎么保证高可用、高性能：分区、主从备份、顺序IO、每个消息只在分区主节点保存一份等等


## 第三个


作者：重复咋办
链接：https://www.nowcoder.com/discuss/477515?type=post&order=time&pos=&page=1&channel=0&source_id=search_post
来源：牛客网

Shopee的面试体验也太好了吧，不会的问题面试官会引导，也会给答案，大概40分钟

自我介绍
介绍项目，会根据介绍问一些问题
讲下桶排序
TCP怎么保证可靠性的，讲下拥塞控制，问了为啥快重传是3
数据库事务性质，问InnoDB怎么实现原子性的
Redis持有化（rdb fork一个子进程有啥好处，开销大吗）和主从复制
写快排，写完之后问怎么优化
反问


## 第四个

作者：风车车啊
链接：https://www.nowcoder.com/discuss/476972?type=post&order=time&pos=&page=1&channel=0&source_id=search_post
来源：牛客网

项目模块（模块之间如何通信）
GC（可达性分析算法的root）
Java锁
redis数据结构
redis失效机制
B+树除了叶子节点连接在一起方便全表扫描以外还有什么优势
B+的优势
事务的隔离级别
分布式事务
虚拟内存
协程
tcp udp

## 第五个

作者：offer巨多多多
链接：https://www.nowcoder.com/discuss/472610?source_id=profile_create&channel=0
来源：牛客网

8月10上午11点半开始一面，面试官挺随和的，每次我不清楚的问题他都会告诉我答案。
数据库引擎有哪些？
数据库索引结构
为什么B+树的查找效率是对数？
一棵三叉的B+树深度是多少？（回答log3N）
给我列举了各种场景，问我会不会触发索引
如何查看sql语句触发了哪些索引？（explain命令）
sql注入攻击了解吗？
怎么避免sql注入攻击？（回答使用preparestatement，但具体原理忘了）
还问了一个什么攻击没听清楚，我就说对网络安全这块了解不多
cookie 和 session区别
浏览器禁止cookie怎么使用session（使用URL重写）
不使用框架自带的session，如何实现会话管理（使用redis）
协程（不会）
进程和线程
DNS协议
怎么查找mac地址
说一下快排的原理，时间复杂度，什么时候复杂度最差？
字符串kmp算法（忘了，一直想找时间去复习这些算法，结果一直没去看，今天就被问到。。。）
说一下图的两种搜索算法
迪杰斯特拉算法（这个算法有点忘了，磕磕绊绊说了一下）
01背包问题（这个我也有点忘了，然后边说边想，开始给的状态转移方程写错了，后来改对了，然后面试官说可以用一维数组代替二维，他自己想给我举例，然后他也卡住了，哈哈哈

## 第六个

作者：AaroninMind
链接：https://www.nowcoder.com/discuss/477188?type=post&order=time&pos=&page=1&channel=0&source_id=search_post
来源：牛客网

1.二叉树的高度（有两道题，第二题忘了，都很简单）
2.常见的数据库，MySQL的事务，隔离级别，索引相关
什么时候需要建立索引？什么时候不需要建立索引？
3.索引执行的时候做了些啥？
4.Redis用的多吗？常用数据类型？用来干啥？场景？
5.缓存雪崩、缓存穿透？怎么解决？
6.进程和线程的区别？
7.什么是僵尸进程？什么是守护进程？有创建过守护进程吗？
8.TCP的三次握手？二次握手为什么不行？怎么保证可靠传输的？
9.手机号MD5加密之后，如何快速查找？1000万的数据2G的内存怎么实现高效？
10.你的高并发秒杀项目说一下吧？怎么保证不会超卖？
11.算法题
合并有序链表
12.反问，聊了一下面试官的业务，部门？聊了一下我现在的状态？

## 第七个

作者：newPaopao
链接：https://www.nowcoder.com/discuss/476950?type=post&order=time&pos=&page=1&channel=0&source_id=search_post
来源：牛客网

总的来说，问题比较基础，自我感觉答得还可以
自我介绍（有待优化，面试官一定会根据项目问一些问题）
怎么保证线程安全
怎么保证数据方面的并发问题---从数据库隔离级别去介绍
串行化隔离级别下，两条sql语句是怎么执行的，如果一条读，一条写呢？
死锁的产生条件--答得不好
介绍一下数据库引擎--介绍一下innodb
innodb采用了什么索引结构
hashmap的底层实现
有序集合有什么？
jvm内存模式
冒泡排序和快速排序的区别？
我们视频是基于什么协议
输入网址发生了什么
网页加载资源是怎么样的一个过程（回答的是https）
网页每次获取数据都要建立tcp链接吗---一个tcp链接能建立多少个http请求
常用的linux命令
代码题--写一个二分查找


## 第八个

作者：梁锋996
链接：https://www.nowcoder.com/discuss/461609?type=post&order=time&pos=&page=1&channel=0&source_id=search_post
来源：牛客网

秒杀项目相关：
用户的两次请求同时去扣减库存，如何保证扣减正确的？

如何保证可靠的消息队列？


基础知识：

链表如何实现的？链表如何删除一个元素。跳表如何实现的？

有1000万个数据，如何快速找出top1000？

树和图有什么区别？

快速排序的过程？平均时间复杂度和最差时间复杂度。链表的时间复杂度呢？跳表的呢？

mysql索引有几种实现的方法？

B+树的逻辑结构说下？

mysql有哪些锁？什么是悲观锁。

select语句查询的时候会加锁吗？

如果一个表的主键是int类型，不按序插入，会出现什么问题？

对索引，sql语句的优化说一下。

怎么防止sql注入？

TCP的断开连接过程，TIME_WAIT为什么是2MSL，1MSL默认是多少秒？

为什么要三次握手，两次握手不行呢？为什么不四次握手呢？

如果出现大量TCP的TIME_WAIT状态，如何解决？这个TIME_WAIT状态出现在服务端还是客户端。

TCP协议是如何保证可靠传输的呢？那么重传是怎么重传的呢？

DNS的解析过程。

对称加密和非对称加密的区别？

非对称加密可以被破解吗？不能破解是吧？

说一下Https用混合加密的一个过程。面试官不是很理解，大概复述了一下我说的，让我再说一次。

私钥可以改变吗？什么是数字证书？

linux的IO模型有哪些？对应Java里边的哪些IO模型。select和epoll有什么区别？

什么是虚拟内存。

什么叫零拷贝技术。

操作系统的进程的调度策略有哪几种。进程和线程的区别？

mysql主从复制如何实现的？（我说了Redis中的，mysql不太了解）为什么用RDB而不用AOF呢？

Java里边多线程是如何避免死锁的？线程池了解吗？

开发过程中，解决问题的思路。

对分布式框架了解吗？比如：RPC框架

项目都是用MVC架构开发的吗？

会轻易换语言吗？因为公司不是以Java语言为主。职业规划。

一道题，链表A和链表B，找这两个链表中交集的元素（int类型），链表A和链表B中都不会出现重复的元素，将结果存放在第三个元素里边。

再问一个问题，项目部署以后，出现很慢的情况，IO占用很高，你会怎么去查询问题？

问了面试官对自己的评价。

# 二面

## 第一个
作者：AaroninMind
链接：https://www.nowcoder.com/discuss/477188?type=post&order=time&pos=&page=1&channel=0&source_id=search_post
来源：牛客网

1.自我介绍
2.围绕着项目展开问题？
1.秒杀项目的主要的难点在哪？你怎么解决的？
2.如何保证不会超卖？
3.Redis中的数据怎么实现预热？
4.Redis除了做缓存数据还可以用来干啥？
5.你项目中用到了Redis做分布式锁吗？怎么实现的？
6.如果用分布式锁有什么缺点？
7.Redis的集群模式你知道吗？cluster，其他的还知道吗？
8.Nginx的负载均衡策略你知道吗？有哪些？
10.如果同一次秒杀的商品有部分商品过于火热怎么去处理？
11.Redis的分布式锁可以用其他的代替吗？（zk）
12.ConcurrentHashMap的底层怎么实现的？（这里使用ConcurrentHashMap由于存放在本地，如果宕机分布式的环境可能导致同一个商品被秒杀多次）
13.了解过缓存雪崩吗？怎么解决？
3.你这三段实习，都遇到了那些挑战有哪些收获？
4.反问有幸能进入的话是否会与面试官在同一部门？问了下面试官做的业务？
5.小结
整体的氛围还是比较和谐的，可能就项目中的细节说的有些太繁琐了，好在面试官脾气挺好，等我说完。Shoppee的面试体验感还是不错的！希望有三面吧！

## 第二个
ConcurrentHashMap 的 get、put方法；为什么插入新节点的时候是用尾插法；

web安全有了解吗：讲了下注入攻击和权限管理；
CSRF（跨站域请求伪造）：不太了解

讲讲 MVCC；（推荐看这篇：https://blog.csdn.net/waves___/article/details/105295060 ）

Kafka 的 partition 的分配策略，就是同一个 topic 的 partition 具体分配给某个订阅它的消费者组的哪个消费者；
Kafka 的 rebalance；

TCP 的 CLOSE_WAIT 和 TIME_WAIT 状态；
CLOSE_WAIT 的作用；

Linux 用什么命令看 tcp 的状态信息：netstat；

算法题：

对一个数组进行排序，元素只有0，1，2：我答了用类似快排的方式；
找一个字符串里面最长回文子串：我简单讲了一下Manache算法 ，然后详细讲了动态规划的方式。
你觉得你技术方面最大的优势是什么？
职业规划？

反问环节：
进了以后怎么选择组：公司是统一招聘的，入职的时候再分配，会考虑到个人意愿。


## 第三个

作者：重复咋办
链接：https://www.nowcoder.com/discuss/477515?type=post&order=time&pos=&page=1&channel=0&source_id=search_post
来源：牛客网

凉得彻底，半小时的样子

自我介绍
介绍项目
怎么判断链表是否有环
一个文件有50万个字符串，每串一行，找出某个字符串在文件是否出现和出现次数
InnoDB和MyISAM区别
客观锁与悲观锁，可以用哪种方式实现悲观锁
以下全蹦了
7. 如果数据库出现了死锁，怎么去发现死锁
8. 分布式事务实现了解吗
9. 分库分表策略了解吗，什么场景适合垂直分，怎么解决多维度查询
10. select、epoll区别，优缺点
11. 虚拟内存概念，页，虚拟内存把物理内存转移到磁盘过程
12. 内核态与用户态，什么时候会切换，切换的时候数据怎么传递的
13. 其它非技术问题
14. 反问


## 第五个

作者：offer巨多多多
链接：https://www.nowcoder.com/discuss/477400?type=post&order=time&pos=&page=1&channel=0&source_id=search_post
来源：牛客网

自我介绍
介绍一下你在自我介绍中提到的单点登录(实习时涉及到的)的原理？
单点登录用到的token是存在哪？（答windows.localstorage()）
你访问另一个子系统的时候怎么带上token？不区分路径吗？（我回答token可以从浏览器获取，在ajax请求中携带上就行）
说一说秒杀项目的多级缓存
缓存一致性如何实现？（我没有花太多精力在这一块，只是简单设置了个较短的过期时间，更进一步可以通过消息中间件来异步更新缓存）
redis的数据类型有哪些？
redis针对数据结构做了一些优化，你知道这些数据结构吗？（我讲了一下SDS和跳表，压缩列表有点忘记了就没讲）
你知道LRU算法吗？讲讲原理
用链表来实现LRU的话访问的时间复杂度是多少（O(N)，可以用HashMap + 链表 来优化时间复杂度）
给定一个联合索引的例子，问我哪些情景会触发索引
说一说我知道的网络的状态码？（这个太难记了，磕磕巴巴说了几个）
在项目中什么时候回返回302状态码？（不是很清楚，就说当前资源不可用，启用备用资源的时候）
你未来三年的规划是什么？（我就说提升技术，做到中下层的管理层）

作者：想上岸，pickmeup
链接：https://www.nowcoder.com/discuss/477691?type=post&order=time&pos=&page=1&channel=0&source_id=search_post
来源：牛客网

## 第六个

二面面经

1.介绍自己的论文
2.介绍自己的项目
3.JWT登录校验流程
4.Shrio和Jwt的权限管理实现
5.快排稳定性，如何实现稳定性快排
6.如何设计一个秒杀系统
7.redis数据类型，跳表分析时间空间复杂度。
8.redis的集群模式？（redis的高可用性？我说了哈希槽）
9.数据库的索引，bplus树分析
10.聚簇索引和非聚簇索引
11.如何联合索引的优势？需要注意什么（最左匹配？）
12.你对虾皮的了解？
13.未来的职业规划
14.平时喜欢读什么书？
15.喜欢讨论问题还是研究问题
16.看了什么非技术的书？（刺客列传？纳兰词？三国演义？我喜欢类似国学的东西。。。）

# shopee一面

1. 介绍一下链表和数组的区别和应用场景
2. 说一说Java中的集合：ArrayList、LinkedList、HashMap
3. 说一说HashMap的过程
4. HashMap是并发不安全的，那么说一说要怎么实现它的并发安全(ConcurrentHashMap)
5. CAS和synchronized的区别，乐观锁和悲观锁
6. synchronized和ReentrantLock的实现区别，应用场景
7. 数据库设计表需要考察的东西（三大范式）
8. 三大范式解决了什么问题？
9. 数据库的事务
10. Innodb和MyisAm区别
11. 主键不是自增的会有影响吗？
12. 聚簇索引和非聚簇索引、覆盖索引
13. 你认为聚簇体现在哪里？
14. 计算机网络的五层自底向上的模型
15. 以太网是在哪一层
16. ARP协议是用在哪一层的
17. 写算法：二分查找.....


# 腾讯运营开发一面（1h20min）

1. 自我介绍
2. 介绍项目 ：大概20-30分钟，讲来一大堆感觉这次面试主要讲项目，重点说了负载均衡的四种策略算法
3. Redis的持久化
4. Mysql索引的数据结构
5. java的gc算法
6. close_wait设置的原因
7. 一致性算法：paxos这些...不太懂
8. 最熟悉的两种排序：快排和堆排
9. 快排的最差复杂度、优化
10. 写题目：求n内的所有质数
11. 问我现在的情况：在哪个城市、是否独生子女、为什么暑假没有去实习
12. 问了运营开发和后台开发的区别，基本没啥不同，运营开发更加注重架构，偏向于SRE，但是主要还是开发，面试官说了20min...

# shopee二面凉
这个面试官是很有经验的面试官，他不会直接问你问题，而是转变一下再问你，比如：你很了解Redis吧，说一说Redis进程间是怎么通信的，当时就懵了
1. 自我介绍
2. 介绍项目
3. 怼项目，从第一个项目开始怼、怼到第三个项目，然后说没有什么创新性，这些都是别人做过怼
4. 快排，快排怎么优化
5. Redis进程间通信的方式
6. 分布式需要考虑的东西
7. CAP
8. 分布式事务一致性，我说了zab
9. 数据库事务acid
10. 数据库的索引b树、b+树，hash索引
11. 这些索引在哪里体现
12. HTTPS过程，我把自己绕晕了，这个回答注定了我会凉
13. 一道题，70%打篮球，80%踢足球，那么至少有多少人不打篮球也不提足球，这个也凉了，这么简单的题我太紧张没想出来...
14. 问我有了解什么开源组件：我说读过Redis源码，然后我说了几种数据结构：跳表、字典、压缩列表
15. 最后问我有什么问题，我就问了他是什么部门他就不让问直接挂了，那肯定是凉了